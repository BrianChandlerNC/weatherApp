from django.shortcuts import render
import json
import requests

# Create your views here.
def index (requests):
    file = open("/home/tuckrodgers/workspace/tf/tf/weather/forecast.json", "r")
    x = file.read()
    file.close()

    parsedJson = json.loads(x)

    periods = parsedJson['properties']['periods']

    weather_data =[]
    for period in periods:
        weather  = {number : period[number],
                    name   : period['name'],
                    startTime : period['startTime'],
        }
        weather_data.append(weather)
        context = {'weather_data': weather_data}
        print(weather_data)
        return render(requests, 'weather/weather.html', weather_data)
